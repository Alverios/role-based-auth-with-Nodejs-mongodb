<%- include('./layouts/header') %>
    <div class="container py-4">
        <div class="p-5 mb-4 bg-light rounded-3">
            <div class="container-fluid py-5">
                <h1>Manage Users</h1>
                <table class="table">
                    <thead>
                      <th>id</th>
                      <th>email</th>
                      <th>role</th>
                    </thead>
                    <tbody>
                      <% users.forEach(user => { %>
                      <tr>
                        <td><%= user.id %></td>
                        <td><a href="/admin/user/<%= user.id %>"><%= user.email %></a></td>
                        <td>
                          <form
                            action="/admin/update-role"
                            method="post"
                            class="manage-user-form"
                          >
                            <input type="hidden" name="id" value="<%= user.id %>" />
                            <select name="role" id="role">
                              <option value="SUPER-ADMIN" <%= user.role === 'SUPER-ADMIN' ? 'selected' : '' %> >Admin</option>
                              <option value="TYRE-ADMIN" <%= user.role === 'TYRE-ADMIN' ? 'selected' : '' %>>Tyre Admin</option>
                              <option value="BATTERY-ADMIN" <%= user.role === 'BATTERY-ADMIN' ? 'selected' : '' %>>Battery Admin</option>
                              <option value="PARKING-ADMIN" <%= user.role === 'PARKING-ADMIN' ? 'selected' : '' %>>Parking Admin</option>
                            </select>
                            <input type="submit" class="btn btn-primary" value="update">
                          </form>
                        </td>
                      </tr>
                      <% }) %>
                    </tbody>
                  </table>
            </div>
        </div>
    </div>
    <%- include('./layouts/footer') %>